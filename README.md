# HamLogHelper

HamLogHelper

by BG4QBF

## 页面说明

+ 左侧
  + 上半部分为已经记录的日志. 提交新日志时会自动滚动到底端
  + 下半部分为正在输入的日志. "锁定" 可以保持当前信息提交时不改变
+ 右侧
  + 上半部分为地图, 可以查看已通联的友台 QTH (基于天地图)
  + 下半部分为搜索框, 可以根据模板搜索呼号或根据字典搜索设备 / 天线 / 功率, 以及根据字典和天地图 API 搜索 QTH , 点击地点会将信息填入相应栏

## 使用说明

+ 在可执行文件同级目录下创建 `tianditu-key.txt` , 填入天地图 api-key
+ 访问浏览器 `localhost:5973` 打开前端页面

## 输出数据说明

+ 标准 csv (使用 `golang: encoding/csv` 库)
+ 前后端除握手测试外, 交换数据均为 json 格式
+ 数据字段如下
  1. 位号 - index
  2. 呼号 - callsign
  3. 日期时间 ( UTC ) - dt
  4. 频率 - band
  5. 模式 - mode
  6. 信号 - rst
  7. 对方设备 - rrig
  8. 对方功率 - rpwr
  9. 对方天线 - rant
  10. 对方台址 - rqth
  11. 己方设备 - trig
  12. 己方功率 - tpwr
  13. 己方天线 - tant
  14. 己方台址 - tqth
  15. 备注 - rmks

## 模板数据说明

+ json格式, 须命名为 `tmpl.json` 且和可执行文件在同一目录下才可被加载

示例

```json
[
    {
        "callsign": "BG4QBF",
        "rig": "宝锋5RH",
        "pwr": "高",
        "ant": "老鹰770拉杆",
        "qth": "江苏镇江京口区"
    },
    {
        "callsign": "BG4QBF",
        "rig": "泉盛UV-K6",
        "pwr": "5W",
        "ant": "原装",
        "qth": "江苏南京紫金山头陀岭"
    }
]
```

## 字典数据说明

+ json格式, 须命名为 `dict.json` 且和可执行文件在同一目录下才可被加载

示例

```json
{
    "rig":{
        "bf": [
            "宝锋5RH",
            "宝锋UV5R",
            "宝锋UV5RMini",
            "宝锋UV32"
        ],
        "b5r": [
            "宝锋5RH",
            "宝锋UV5R",
            "宝锋UV5RMini"
        ],
        "b32": [
            "宝锋UV32"
        ]
    },
    "pwr":{
        "h": [
            "高"
        ],
        "m": [
            "中",
            "满"
        ],
        "max": [
            "满"
        ],
        "l": [
            "低"
        ]
    },
    "ant":{
        "2e": [
            "2单元八木"
        ],
        "3e": [
            "3单元八木",
            "3单元CJU"
        ]
    },
    "qth":{
        "xlw": [
            "江苏南京孝林卫"
        ],
        "yfq": [
            "江苏南京油坊桥"
        ],
        "yht": [
            "江苏南京雨花台"
        ],
        "cpu": [
            "江苏南京中国药科大学"
        ]
    }
}
```

## LICENSE

MIT
