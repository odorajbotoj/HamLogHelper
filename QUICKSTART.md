# HamLogHelper 快速上手文档

## 1. 启动软件

1. 去 [Releases](https://github.com/odorajbotoj/HamLogHelper/releases) 下载软件. 推荐您使用最新的版本.
2. 找到您系统对应的可执行文件. 对于一般用户, 您可以尝试 `HamLogHelper-windows_amd64.exe` , 这能在大多数人的现代家用电脑上运行. 若您需要其他系统 (linux, darwin) 或其他架构 (arm, 386 ...), 可自行按需下载.
3. 下载好可执行文件之后, 将它放在一个您能找到的位置, 无需安装.
4. 根据您的需要配置天地图密钥 (api-key). 在可执行文件同级目录下创建 `tianditu-key.txt`, 填入天地图 api-key 即可. 拥有有效的密钥才能使用地图功能. 密钥可以按照 [天地图 API 开发资源](http://lbs.tianditu.gov.cn/) 页面的指示操作获取.
5. 运行程序, 不要关闭命令行窗口, 按照提示打开浏览器 (一般情况下会自动帮您打开), 准备开始使用.

## 2. 页面说明

+ 上半部分
  + 左侧为已经记录的日志
  + 右侧为地图 (基于天地图, 无 api-key 时不显示)
+ 下半部分
  + 左侧为正在输入的日志
  + 右侧为显示输入建议的地方

### 左上 日志区

1. 提交新日志时会自动滚动到底端
2. 顶、底部均有 "导出" 按钮
3. 顶部会显示当前打开的文件名, 也可以选择打开新文件
4. 为方便阅读，隐去了己方信息 (频率, 模式, 己方设备 ...)
5. 点击 "添加到模板" 可以将本条日志添加到模板文件
6. 点击位号并提交可以编辑单条日志. 编辑时将临时解锁锁定的项, 提交后恢复
7. 点击 "标记为删除" 会将一行数据标记为删除, 但不会立刻被清理. 标记删除的数据不会影响当前的日志计数, 再次点击位号并提交编辑可以取消删除操作.
8. 所有日志变更将在文件重新被打开时生效, 如刷新页面.

### 右上 地图区

1. 可以查看已通联的友台 QTH
2. 当您未设置天地图密钥时, 本区域不可见, 日志区占满整个上部空间
3. 当您提交一条新的记录时, 才会调用显示. 这意味着您刷新页面后将不会在地图上看到先前的标记点, 除非您编辑记录后重新提交
4. 地图缩小后, 临近的标记点自动聚合

### 左下 编辑区

1. 在此处记录信息, 提交后在上方日志区有显示即为提交成功
2. 呼号自动转大写
3. "锁定" 可以保持当前信息提交时不改变
4. 提交按钮和标题 "输入" 旁边会显示当前记录的编号 (新文件的第一条记录例外)
5. "显示/隐藏己方信息" 可以改变己方信息 (频率, 模式, 己方设备 ...) 的显示状态. 点名时可调整至隐藏, 方便查看参与者信息
6. 有两处需要注意填写的地方 (在页面中也会有相应提示):
   + 模式仅允许搜索提示区列出的模式
   + 频率输入格式为 `%f/%f` , 前后两个小数, 中间斜杠隔开, 代表发射频率与频差. 如 `430.610/+9.0` , `438.5/+0.0`, `439.645/-9.0`

### 右下 建议区

1. 此处显示输入建议
2. 可以根据模板搜索呼号或根据字典搜索模式 / 设备 / 天线 / 功率, 以及根据字典和天地图 API 搜索 QTH (若有 api-key)
3. 若有输入历史, 则其将在输入框被点击时显示
4. 点击提示项会将信息填入相应输入框
5. 使用 `Ctrl+<数字>` 或 `Meta+<数字>` (Windows 上 `Meta` 为 `Windows 徽标` 键, Mac 上 `Meta` 为 `Command` 键) 来快速选择右侧的输入建议, 譬如, 当你按下 `Ctrl+1` 会自动填充右侧输入建议的第一项. 数字可取 `1` ~ `9` .

## 3. 其他功能

### 数据导出

当点击日志区中的 "导出" 时, 您将打开一个新的页面. 您可以在这里导出您的记录.

若勾选 "仅保存北京时间hh:mm", 则时间将不会保留 UTC 的 `yyyy-mm-ddThh:mm`, 而是仅保留北京时间的小时和分钟 `hh:mm`.

您需要勾选想要导出的列. 导出 CSV 文件或 Excel 表格时, 列的顺序由您勾选的顺序决定 (页面中会有 `导出字段顺序` 作提示).

"一键反选" 按钮将帮助您快速选择.

### 数据库编辑

当点击建议区中的 "编辑数据库" 时, 您将打开一个新的页面. 您可以在这里编辑模板与字典.

五个 "编辑 ..." 按钮帮您切换选项卡, 编辑不同的数据.

`🗑️` (垃圾桶) 代表删除本条, `⬆️` (向上箭头) 代表本条上移, `⬇️` (向下箭头) 代表本条下移.

出现相同项时, 将自动去重或进行归并. 编辑字典时, 为空的补全条目失去焦点时将被删除.
